# Intellyo - Handoff Document

## Project Overview
Intellyo is an AI-powered test runner GUI for web applications. It generates and executes automated browser tests using IntelliTester and Playwright.

**GitHub Repo:** https://github.com/Huck-dev/intellyo

**Location:** `/home/huck/intellyo/app`

## Quick Start
```bash
cd ~/intellyo/app
pnpm start        # Production server on port 4445
pnpm dev          # Development with auto-reload
```
Open http://localhost:4445

## Tech Stack
- **Backend:** Express.js + TypeScript + WebSocket
- **Frontend:** Vanilla HTML/CSS/JS (single index.html)
- **Test Runner:** IntelliTester (npm package) + Playwright
- **AI Providers:** Ollama (local), OpenAI, Anthropic

## Key Features

### 1. Quick Run (Column 1)
- Select test scenario (login, signup, smoke, etc.)
- Choose browser (Chrome, Firefox, Safari)
- Set base URL
- Click "Generate & Run" to create and execute test

### 2. Existing Tests (Column 2)
- **Project dropdown** to filter by test suite
- **Search** to find tests
- **Single-click** to select test
- **Double-click** to open editor
- "Run Selected Test" button

### 3. AI Test Generator (Column 3)
- Describe app in plain English
- Enter project name and base URL
- Generates 3-8 tests using AI (Ollama/OpenAI/Anthropic)
- Creates project subdirectory with test files

### 4. Test Editor
- Double-click any test to open
- Full-screen modal with YAML editor
- Ctrl+S to save, Escape to close

### 5. Settings Panel
- Click "Settings" button in header
- Configure AI provider (Ollama/OpenAI/Anthropic)
- Enter API key for cloud providers
- Set test directory path

## File Structure
```
~/intellyo/app/
├── src/server.ts      # Express server, API endpoints, AI generation
├── public/index.html  # Frontend UI (all-in-one)
├── dist/              # Compiled JS (generated by pnpm build)
├── package.json
├── tsconfig.json
└── README.md
```

## API Endpoints
| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/projects` | GET | List project directories |
| `/api/tests` | GET | List tests (optional `?project=` filter) |
| `/api/test-content` | GET | Read test file (`?path=`) |
| `/api/test-content` | POST | Save test file |
| `/api/generate` | POST | Generate single test from scenario |
| `/api/generate-suite` | POST | AI-generate full test suite |
| `/api/run` | POST | Execute a test |
| `/api/settings` | GET/POST | Server settings |
| `/api/models` | GET | List Ollama models |
| `/api/browsers` | GET | Available browsers |
| `/api/scenarios` | GET | Test scenario types |

## Test Directory
Default: `/home/huck/staryo/website/intellitester-tests`

Structure:
```
intellitester-tests/
├── smoke-chrome.test.yaml     # Root tests
├── login-chrome.test.yaml
├── my-project/                 # AI-generated project
│   ├── login-flow.test.yaml
│   └── signup-flow.test.yaml
```

## Credentials (hardcoded in server.ts)
- **User tests:** newuser@test.com / Leonidas12!
- **Creator tests:** newcreator@test.com / Leonidas12!

## Git Info
- **Remote:** https://github.com/Huck-dev/intellyo.git
- **Branch:** main
- **Auth:** gh CLI logged in as Huck-dev

## Recent Commits
1. `d150a86` - Add double-click to edit tests feature
2. `e188052` - Add project/test suite dropdown selector
3. `ce81578` - Add AI test suite generator feature
4. `3c994f2` - Initial release

## Dependencies
```json
{
  "express": "^4.21.0",
  "cors": "^2.8.5",
  "ws": "^8.18.0",
  "dotenv": "^17.2.3"
}
```

## Common Commands
```bash
# Development
cd ~/intellyo/app
pnpm dev                    # Auto-reload dev server
pnpm build                  # Compile TypeScript
pnpm start                  # Production server

# Git
git add -A && git commit -m "message" && git push

# Kill/restart server
fuser -k 4445/tcp
node dist/server.js &

# Install Playwright browsers (if needed)
npx playwright install chromium firefox webkit
```

## Related Projects
- **staryo/website** (`/home/huck/staryo/website`) - The app being tested
- **IntelliTester** - npm package for running YAML test files

## Notes
- Server runs on port 4445
- WebSocket provides real-time test output
- Tests are YAML files compatible with IntelliTester format
- AI fallback generates basic tests from keywords if API fails
